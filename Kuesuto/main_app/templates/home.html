{% extends "base.html" %}
{% load static %}
{% block content %}

<!-- Full-Width Hero Video Banner -->
<div style="position: relative; width: 100vw; margin-left: calc(-50vw + 50%); margin-right: calc(-50vw + 50%); margin-bottom: 60px; overflow: hidden; height: 600px;">
  
  <!-- Video Background -->
  <video autoplay loop muted playsinline style="position: absolute; width: 100%; height: 100%; object-fit: fit; background-color: #75DBF8;">
    <source src="{% static 'images/hero-banner.webm' %}" type="video/webm">
    <img src="{% static 'images/hero-banner.png' %}" alt="Kuesuto" style="width: 100%; height: 100%; object-fit: cover;">
  </video>
  
  <!-- White Text with Shadow Overlay -->
  <div style="position: absolute; top: 50%; left: 80px; transform: translateY(-50%); z-index: 10; max-width: 900px;">
    <h1 class="hero-video-text">
      FINISH TASKS
    </h1>
    <h1 class="hero-video-text" style="margin-top: 10px;">
      AND LEVEL UP
    </h1>
  </div>
</div>

<!-- Hero Section -->
<div class="hero-section">
  <div class="hero-badge">ğŸš€ MISSION CONTROL</div>
  
  <h1 class="hero-title">KUESUTO</h1>
  
  <p class="hero-subtitle">
    Transform Your Goals Into Epic Quests. Plan, Track, and Conquer with the Power of Gamification.
  </p>
  
  <div class="hero-cta">
    {% if user.is_authenticated %}
      <a href="{% url 'plans_index' %}" class="btn btn-large">View My Quests</a>
      <a href="{% url 'plans_create' %}" class="btn btn-large grey">Create New Quest</a>
    {% else %}
      <a href="{% url 'signup' %}" class="btn btn-large">Start Your Journey</a>
      <a href="{% url 'login' %}" class="btn btn-large grey">Login</a>
    {% endif %}
  </div>
  
  <div class="hero-stats">
    {% if user.is_authenticated %}
    <div class="stat-card">
      <div class="stat-number">{{ request.user.profile.score }}</div>
      <div class="stat-label">Total Points</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">
        {% with active_plans=request.user.plan_set.filter|add:"is_completed=False" %}
          {{ request.user.plan_set.filter.count }}
        {% endwith %}
      </div>
      <div class="stat-label">Active Quests</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">
        {% if request.user.profile.current_rank %}
          {{ request.user.profile.current_rank.name }}
        {% else %}
          Novice
        {% endif %}
      </div>
      <div class="stat-label">Current Rank</div>
    </div>
    {% else %}
    <div class="stat-card">
      <div class="stat-icon">ğŸ®</div>
      <div class="stat-label">Gamified Tasks</div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ†</div>
      <div class="stat-label">Earn Rewards</div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ“Š</div>
      <div class="stat-label">Track Progress</div>
    </div>
    {% endif %}
  </div>
</div>

<!-- Features Grid -->
<div class="features-section">
  <h2 class="section-title">POWERFUL FEATURES</h2>
  
  <div class="feature-grid">
    
    <div class="feature-card">
      <div class="feature-icon">ğŸ“‹</div>
      <h3 class="feature-title">Quest Management</h3>
      <p class="feature-description">
        Organize your goals into epic quests with detailed tasks. Break down complex objectives into manageable missions.
      </p>
    </div>

    <div class="feature-card">
      <div class="feature-icon">ğŸ†</div>
      <h3 class="feature-title">Score & Ranking</h3>
      <p class="feature-description">
        Earn points for completing tasks and quests. Climb the ranks and unlock achievements as you progress.
      </p>
    </div>

    <div class="feature-card">
      <div class="feature-icon">ğŸ¤–</div>
      <h3 class="feature-title">AI Quest Assistant</h3>
      <p class="feature-description">
        Get personalized insights and motivation from your AI companion. Track your progress with intelligent analytics.
      </p>
    </div>

    <div class="feature-card">
      <div class="feature-icon">âœ…</div>
      <h3 class="feature-title">Task Tracking</h3>
      <p class="feature-description">
        Mark tasks as important, set deadlines, and monitor completion. Stay organized with color-coded priorities.
      </p>
    </div>

    <div class="feature-card">
      <div class="feature-icon">ğŸ“Š</div>
      <h3 class="feature-title">Progress Dashboard</h3>
      <p class="feature-description">
        Visualize your journey with detailed stats. See completed quests, active tasks, and achievement milestones.
      </p>
    </div>

    <div class="feature-card">
      <div class="feature-icon">ğŸ®</div>
      <h3 class="feature-title">Level Up Your Life</h3>
      <p class="feature-description">
        Turn productivity into a game. Earn bonus points for completing quests on time and maintaining streaks.
      </p>
    </div>

  </div>
</div>

<!-- How It Works Section -->
<div class="how-it-works-section">
  <h2 class="section-title">HOW IT WORKS</h2>
  
  <div class="steps-container">
    <div class="step-card">
      <div class="step-number">1</div>
      <h4 class="step-title">Create a Quest</h4>
      <p class="step-description">Define your goal and break it down into actionable tasks with deadlines.</p>
    </div>
    
    <div class="step-arrow">â†’</div>
    
    <div class="step-card">
      <div class="step-number">2</div>
      <h4 class="step-title">Complete Tasks</h4>
      <p class="step-description">Check off tasks as you complete them and earn points for your progress.</p>
    </div>
    
    <div class="step-arrow">â†’</div>
    
    <div class="step-card">
      <div class="step-number">3</div>
      <h4 class="step-title">Level Up</h4>
      <p class="step-description">Climb ranks, unlock achievements, and become a quest master!</p>
    </div>
  </div>
</div>

<!-- Call to Action Section -->
{% if not user.is_authenticated %}
<div class="cta-section">
  <h2 class="cta-title">Ready to Start Your Quest?</h2>
  <p class="cta-subtitle">Join thousands of questers achieving their goals with Kuesuto</p>
  <a href="{% url 'signup' %}" class="btn btn-large">Join Kuesuto Today</a>
</div>
{% endif %}

{% endblock %}